from openpilot.selfdrive.car.bmw.values import CAR

BMW_E8x_E9x_common_per_bus = {
  "PT-CAN": {
    512: 8, 128: 5, 168: 8, 169: 8, 170: 8, 172: 8, 180: 8, 181: 8, 182: 5, 184: 8, 185: 8, 186: 8, 189:8, 191: 5, 196: 7, 200: 6, 201: 8, 205: 8, 206: 8,
    209: 8,212: 8, 266: 6, 304: 5, 309: 2, 373: 3, 404: 4, 408: 5, 414: 8, 416: 8, 418: 8, 422: 8, 436: 8, 437: 7, 438: 7, 464: 8, 466: 6, 470: 2, 481: 6,
    502: 2, 514: 2, 538: 3, 550: 5, 570: 4, 578: 5, 594: 2, 678: 2, 690: 8, 691: 5, 704: 3, 719: 2, 722: 3, 753: 3, 758: 2, 760: 8, 762: 5, 764: 7, 784: 7,
    785: 2, 797: 2, 816: 8, 818: 2, 821: 8, 823: 2, 847: 2, 884: 5, 893: 2, 896: 7, 897: 2, 904: 7, 940: 2, 945: 6, 947: 6, 948: 8, 953: 3, 958: 2, 1007: 3,
    1152: 8, 1170: 8, 1175: 8, 1176: 8, 1193: 8, 1246: 8, 1408: 8, 1426: 8, 1432: 8, 1449: 8, 1472: 8, 1494: 8, 1504: 8, 1506: 8, 1517: 8, 1522: 8, 1528: 8
  },
  "F-CAN": {
    403: 8, 320: 2, 133: 8, 216: 8, 227: 8, 357: 8, 128: 5, 201: 8, 205: 8, 206: 8, 209: 8, 212: 8, 304: 5,  404: 4, 470: 2, 678: 2, 884: 5,
  },
  "STEPPER_SERVO_CAN": {
      559: 8
  }
}

BMW_E8x_E9x_common = {k: v for d in BMW_E8x_E9x_common_per_bus.values() for k, v in d.items()} # flatten

FINGERPRINTS = {
  CAR.BMW_E82: [
    {**BMW_E8x_E9x_common, 899: 4},
    {**BMW_E8x_E9x_common, 899: 2}, # N52 has shorter msg id 899
    ]
  # CAR.BMW_E90:      [{**BMW_E8x_E9x_common, }],
}
